# 视频转GIF工具 v2.0 使用说明

## 🎬 功能特点

- **多格式支持**: 支持MP4、AVI、MOV、MKV、WMV、FLV、WebM、M4V等格式
- **颜色保持**: 优化算法保持原始视频的颜色质量
- **智能缩放**: 自动保持宽高比，支持自定义最大尺寸
- **帧率控制**: 可自定义目标帧率，不超过原视频帧率
- **时长控制**: 支持设置开始时间和GIF时长
- **质量选择**: 提供低、中、高三种质量选项
- **实时进度**: 转换过程中显示详细进度信息
- **清晰界面**: 现代化界面设计，操作简单直观

## 📦 安装依赖

```bash
pip install -r requirements.txt
```

## 🚀 启动程序

### 方法一：直接运行
```bash
python video_to_gif_app.py
```

### 方法二：使用启动脚本
```bash
python run_app.py
```

## 📖 使用步骤

### 1. 选择视频文件
- 点击"浏览"按钮选择要转换的视频文件
- 支持多种视频格式

### 2. 查看视频信息
- 选择文件后自动显示视频的详细信息
- 包括格式、分辨率、帧率、时长、文件大小

### 3. 设置转换参数

#### 基本参数（左列）：
- **最大宽度**: 设置GIF的最大宽度（像素），保持宽高比
- **目标帧率**: 设置GIF的播放帧率（FPS）
- **质量等级**: 选择低、中、高质量

#### 时长控制（右列）：
- **原视频时长**: 显示原视频的总时长
- **开始时间**: 设置从视频的哪个时间点开始转换（秒）
- **GIF时长**: 设置转换的GIF时长（秒），0表示使用原视频时长

#### 其他选项：
- **保持原始颜色**: 勾选以保持更好的颜色质量

### 4. 设置输出文件
- 点击"保存"按钮选择GIF文件的保存位置
- 程序会自动建议输出文件名

### 5. 开始转换
- 点击绿色的"🚀 开始转换"按钮
- 转换过程中会显示详细进度
- 完成后会弹出成功提示

## ⚙️ 参数说明

### 质量设置
- **high**: 最高质量，文件较大，颜色保持最好
- **medium**: 中等质量，平衡文件大小和质量
- **low**: 较低质量，文件较小，适合快速预览

### 时长控制
- **开始时间**: 从0开始，单位为秒
- **GIF时长**: 0表示使用原视频的完整时长

## 📋 注意事项

1. **FFmpeg依赖**: 确保系统已安装FFmpeg，moviepy会自动下载
2. **内存使用**: 大视频文件转换时可能需要较多内存
3. **处理时间**: 转换时间取决于视频长度、分辨率和帧率
4. **文件大小**: GIF文件通常比原视频大，建议适当降低分辨率或帧率

## 🔧 故障排除

### 常见问题

1. **FFmpeg未找到**: 确保FFmpeg已正确安装或让moviepy自动下载
2. **内存不足**: 尝试降低最大尺寸或帧率
3. **格式不支持**: 检查视频格式是否在支持列表中
4. **转换失败**: 检查视频文件是否损坏，尝试其他视频文件

### 性能优化建议

- 对于长视频，建议先裁剪到需要的片段
- 适当降低帧率可以减少文件大小
- 使用中等质量设置可以平衡质量和文件大小

## 📁 文件结构

```
utils/video_utils/
├── video_to_gif_app.py      # 主程序
├── run_app.py               # 启动脚本
├── convert_mp4_to_gif.py    # 核心转换函数
├── requirements.txt         # 依赖管理
├── 使用说明.md              # 使用说明
└── video_data/              # 测试数据目录
    ├── test_data.mp4
    └── test_data.gif
```

## 🎉 更新日志

- **v2.0**: 全新界面设计，功能完善，操作简单
- **v1.0**: 基础转换功能

---

**享受使用视频转GIF工具！** 🎬✨ 