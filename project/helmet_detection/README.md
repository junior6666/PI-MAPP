# 头盔检测系统

这是一个基于YOLO模型的头盔检测系统，提供完整的图形化界面，支持图片、视频和摄像头实时检测。
![20250803_203636.gif](UI_demo/20250803_203636.gif)
## 🚀 功能特性

- **多源检测**: 支持图片、视频文件和摄像头实时检测
- **实时显示**: 左右分屏显示原图和检测结果
- **详细日志**: 显示推理耗时、置信度、检测框坐标等信息
- **控制功能**: 开始、暂停、停止检测
- **进度显示**: 视频检测时显示进度条
- **美观界面**: 基于PySide6的现代化UI设计

## 📋 系统要求

- Python 3.8 或更高版本
- Windows 10/11 操作系统
- 至少4GB内存
- 推荐使用GPU加速（可选）

## 🛠️ 快速开始

### 1. 安装依赖
```bash
# 方法1: 使用安装脚本（推荐）
双击运行 install.bat

# 方法2: 手动安装
pip install -r requirements.txt
```

### 2. 运行程序
```bash
# 方法1: 使用运行脚本（推荐）
双击运行 run.bat

# 方法2: 直接运行
python main.py
```

### 3. 功能测试
```bash
python test_detection.py
```

## 🎯 使用说明

### 界面布局
- **左侧**: 显示原始图像/视频帧
- **右侧**: 显示检测结果（带检测框）
- **控制面板**: 源选择、检测控制、进度显示
- **日志区域**: 详细的检测信息输出

### 操作流程

#### 图片检测
1. 选择源：选择"图片"
2. 选择文件：点击"选择文件"按钮
3. 开始检测：点击"开始检测"按钮
4. 查看结果：右侧显示检测结果，日志显示详细信息

#### 视频检测
1. 选择源：选择"视频"
2. 选择文件：点击"选择文件"按钮
3. 开始检测：点击"开始检测"按钮
4. 控制播放：使用暂停/继续按钮
5. 查看进度：进度条显示检测进度

#### 摄像头检测
1. 选择源：选择"摄像头"
2. 开始检测：点击"开始检测"按钮
3. 实时检测：系统实时显示检测结果

## 📊 检测结果说明

### 坐标格式
- **xyxy**: 绝对坐标 (top-left-x, top-left-y, bottom-right-x, bottom-right-y)
- **xyxyn**: 归一化坐标 (0-1范围)

### 置信度
- 范围：0-1
- 数值越高表示检测结果越可靠

## 📁 项目结构

```
helmet_detection/
├── main.py              # 主程序文件
├── test_detection.py    # 功能测试脚本
├── requirements.txt     # 依赖包列表
├── install.bat         # 安装脚本
├── run.bat            # 运行脚本
├── README.md          # 项目说明
├── 使用说明.md        # 详细使用说明
├── pt_models/         # 模型文件目录
│   └── helmet_best.pt # 训练好的模型
├── helmet_test_img/   # 测试图片目录
└── runs/              # 检测结果输出目录
```

## 🔧 技术架构

- **前端**: PySide6 (Qt for Python)
- **后端**: Ultralytics YOLO
- **图像处理**: OpenCV
- **深度学习**: PyTorch

## 🐛 故障排除

### 常见问题

1. **模型文件不存在**
   - 确保 `pt_models/helmet_best.pt` 文件存在

2. **依赖安装失败**
   - 确保Python版本为3.8+
   - 尝试手动安装：`pip install ultralytics opencv-python PySide6`

3. **摄像头无法打开**
   - 检查摄像头是否被其他程序占用
   - 确保摄像头驱动正常

4. **检测速度慢**
   - 检查是否有GPU支持
   - 可以调整视频帧率或降低图像分辨率

### 性能优化建议

1. **GPU加速**: 如果有NVIDIA GPU，安装CUDA版本的PyTorch
2. **模型优化**: 可以使用更小的模型文件提高速度
3. **图像预处理**: 适当降低输入图像分辨率

## 📝 更新日志

- **v1.0.0**: 初始版本
  - 支持图片、视频、摄像头三种检测模式
  - 提供完整的图形化界面
  - 实时显示检测结果和详细信息
  - 支持暂停/继续/停止功能
  - 添加进度条和详细日志

## 📄 许可证

本项目仅供学习和研究使用。权重文件有偿获取联系QQ:2642144249(备注:github-头盔检测权重)

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目。

---

**注意**: 请确保模型文件 `pt_models/helmet_best.pt` 存在且有效。